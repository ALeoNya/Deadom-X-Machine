<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="/css/test5.css" type="text/css" rel="Stylesheet" />
    <script src="/js/test5.js"></script>
</head>
<body>
    <div class="father">
        <div class="left-box" id="left-box">
            <img src="/pic/XXX02.png" alt="">
        </div>

        <video class="backgroundVideo" id="backgroundVideo" src="/video/c.mp4" autoplay="autoplay" muted="muted" width="100%" height="100%" ></video>

        <div class="right-box" id="right-box"></div>
    </div>
    <script>
window.onload = function() {
    setTimeout(moviediv,5000);  //播放2s后开始改变样式  
}



function moviediv(){
// 先创建var后续再调用的话，性能会好一点不会那么卡顿

var box = document.getElementById("left-box");
var video = document.getElementById("backgroundVideo");

clearInterval(intervalID);
    //每5ms执行一次直到clearinterval
    var intervalID = null, begin = 0, step = 0, target = 1535;  
    intervalID = setInterval(function () {

        begin += (step+5);

        if (begin >= target){
            begin = target;
            box.style.zIndex = 2;
            video.style.zIndex = 1;
            clearInterval(intervalID);
        }
        box.style.right = begin + 'px';
        video.style.right = begin + 'px';
    }, 10);
};
    </script>
</body>
</html>